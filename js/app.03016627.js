(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},r=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"9f328133"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(t);var u=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,n[1](u)}s[t]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/task-vue/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"03c0":function(t,e,n){"use strict";var a=n("d3a6"),s=n.n(a);s.a},3541:function(t,e,n){},"380c":function(t,e,n){},4593:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=n("bc3a"),r=n.n(s),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{flat:"",app:"",color:"primary",dark:""}},[t.$vuetify.breakpoint.mobile?n("v-app-bar-nav-icon",{on:{click:function(e){t.navDrawer=!0}}}):t._e(),n("span",{staticClass:"font-weight-thin text-h5"},[t._v("TASK-")]),n("span",{staticClass:"pr-4 text-h5"},[t._v("VUE")]),t.$vuetify.breakpoint.mobile?t._e():t._l(t.navItems,(function(e){return n("v-btn",{key:e.text,staticClass:"text-subtitle-1",attrs:{link:"",text:""},on:{click:e.method}},[n("v-icon",{staticClass:"pr-2"},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.text)+" ")],1)})),n("v-spacer"),n("v-btn",{attrs:{"retain-focus-on-click":!1,link:"",text:""},on:{click:t.onLogOut}},[n("span",{staticClass:"mr-2 text-subtitle-1 font-weight-bold"},[t._v("Log out")])])],2),t.$vuetify.breakpoint.mobile?n("v-navigation-drawer",{staticClass:"secondary darken-3",attrs:{value:t.navDrawer,app:""},model:{value:t.navDrawer,callback:function(e){t.navDrawer=e},expression:"navDrawer"}},[n("v-btn",{staticClass:"secondary darken-3",attrs:{fab:"",depressed:""},on:{click:function(e){t.navDrawer=!1}}},[n("v-icon",[t._v("mdi-close")])],1),n("v-list",t._l(t.navItems,(function(e){return n("v-list-item",{key:e.text,staticClass:"text-subtitle-1",attrs:{dark:"",link:"",text:""},on:{click:e.method}},[n("v-list-item-icon",[n("v-icon",[t._v(" "+t._s(e.icon)+" ")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),1)],1):t._e(),n("v-main",{staticStyle:{height:"1vh"}},[n("router-view")],1),t._l(t.alerts,(function(e){return n("v-alert",{key:e.message,staticClass:"ma-0",attrs:{text:"",dismissible:"",value:t.alertShow,type:e.type}},[t._v(" "+t._s(e.description)+" ")])}))],2)},o=[],c=n("5530"),u=n("2f62"),l={name:"App",data:function(){return{alertShow:!0,navDrawer:!1,navItems:[{icon:"mdi-format-list-checks",text:"Task List",method:this.onBtn},{icon:"mdi-calendar-refresh",text:"Recurring Tasks",method:this.onRecurBtn}]}},computed:{recurPage:function(){return this.$route.meta.recurPage},alerts:function(){return this.$store.getters.getAlerts}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["fetchTaskList","clearToken"])),{},{onLogOut:function(){this.clearToken(),this.$router.push({name:"Login"})},onRecurBtn:function(){this.recurPage||this.$router.push({name:"TaskRecurNoneSelected"})},onBtn:function(){this.recurPage&&this.$router.push({name:"TaskNoneSelected"})}})},d=l,p=(n("034f"),n("2877")),m=n("6544"),v=n.n(m),f=n("0798"),h=n("7496"),k=n("40dc"),g=n("5bc1"),b=n("8336"),T=n("132d"),x=n("8860"),w=n("da13"),_=n("5d23"),y=n("34c3"),C=n("f6c4"),S=n("f774"),j=n("2fa4"),V=Object(p["a"])(d,i,o,!1,null,null,null),D=V.exports;v()(V,{VAlert:f["a"],VApp:h["a"],VAppBar:k["a"],VAppBarNavIcon:g["a"],VBtn:b["a"],VIcon:T["a"],VList:x["a"],VListItem:w["a"],VListItemContent:_["a"],VListItemIcon:y["a"],VListItemTitle:_["b"],VMain:C["a"],VNavigationDrawer:S["a"],VSpacer:j["a"]});n("b0c0"),n("d3b7");var O=n("8c4f"),R=(n("7db0"),n("fb6a"),n("96cf"),n("1da1"));a["a"].use(u["a"]);var $=new u["a"].Store({state:{token:localStorage.token||null,apiBaseUrl:localStorage.apiBaseUrl||null,tmpAxiosConf:null,selectedTaskUUID:null,loadingTasks:!0,taskFormView:void 0,urgencyScaleMax:5,tasks:[],alerts:[]},getters:{getToken:function(t){return t.token},getHasToken:function(t){return!!t.token},getBaseUrl:function(t){return t.apiBaseUrl},getTasks:function(t){return t.tasks?t.tasks.slice():[]},getAlerts:function(t){return t.alerts},getTmpAxiosConf:function(t){return t.tmpAxiosConf},getSelectedTaskUUID:function(t){return t.selectedTaskUUID},getLoadingTasks:function(t){return t.loadingTasks},getUrgencyScaleMax:function(t){return t.urgencyScaleMax},getSelectedTask:function(t){return t.selectedTaskUUID&&t.tasks?t.tasks.find((function(e){return e.uuid===t.selectedTaskUUID})):{}}},mutations:{set_token:function(t,e){t.token=e},set_tasks:function(t,e){t.tasks=e},set_selected_task_uuid:function(t,e){t.selectedTaskUUID=e},set_tmp_axios_conf:function(t,e){t.tmpAxiosConf=e},set_api_base_url:function(t,e){t.apiBaseUrl=e},push_alert:function(t,e){e&&t.alerts.push(e)},pop_alert:function(t){t.alerts.pop()},clear_alerts:function(t){t.alerts=[]}},actions:{clearToken:function(t){var e=t.commit;localStorage.removeItem("token"),e("set_token",null)},fetchToken:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o,c,u,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s=t.commit,i=t.getters,o=e.apiBaseUrl,c=e.pass,localStorage.apiBaseUrl=o,s("set_api_base_url",o),u={method:"get",url:o+"/auth",auth:{password:c}},n.prev=5,n.next=8,r()(u);case 8:l=n.sent,localStorage.token=l.data.token,s("set_token",l.data.token),d=i.getTmpAxiosConf,d&&a("handleRequest",d),n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](5),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[5,15]])})))()},handleAlert:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=t.commit,e&&(a("push_alert",e),setTimeout((function(){console.log("timeout"),a("pop_alert")}),3e3));case 2:case"end":return n.stop()}}),n)})))()},fetchTaskList:function(t){return Object(R["a"])(regeneratorRuntime.mark((function e(){var n,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,a=t.commit,e.next=3,n("syncTaskList");case 3:return s={method:"get"},e.next=6,n("handleRequest",s);case 6:r=e.sent,r&&(n("handleAlert",r.data.message),a("set_tasks",r.data.tasks));case 8:case"end":return e.stop()}}),e)})))()},syncTaskList:function(t){return Object(R["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,a={method:"get",url:"sync"},e.next=4,n("handleRequest",a);case 4:s=e.sent,s&&n("handleAlert",s.data.message);case 6:case"end":return e.stop()}}),e)})))()},handleRequest:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s=t.commit,i=t.getters,s("set_tmp_axios_conf",null),e["baseURL"]=i.getBaseUrl,e["headers"]={"x-access-tokens":i.getToken},n.prev=4,n.next=7,r()(e);case 7:return n.abrupt("return",n.sent);case 10:n.prev=10,n.t0=n["catch"](4),a("clearToken"),s("set_tmp_axios_conf",e),_e.push({name:"Login"});case 15:case"end":return n.stop()}}),n,null,[[4,10]])})))()},handleRedirectToInfo:function(t,e){if(e.data.message&&"error"!==e.data.message.type&&e.data.task.uuid){var n=e.data.task.uuid;"recurring"===e.data.task.status?_e.push({name:"TaskRecurInfo",params:{uuid:n}}):_e.push({name:"TaskInfo",params:{uuid:n}})}},addTask:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s={method:"post",data:e},n.next=4,a("handleRequest",s);case 4:if(r=n.sent,!r){n.next=10;break}return a("handleRedirectToInfo",r),a("handleAlert",r.data.message),n.next=10,a("fetchTaskList");case 10:case"end":return n.stop()}}),n)})))()},updateTask:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s={method:"put",data:e,url:e.uuid},n.next=4,a("handleRequest",s);case 4:if(r=n.sent,!r){n.next=10;break}return a("handleRedirectToInfo",r),a("handleAlert",r.data.message),n.next=10,a("fetchTaskList");case 10:case"end":return n.stop()}}),n)})))()},deleteTask:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s={method:"delete",url:e},n.next=4,a("handleRequest",s);case 4:if(r=n.sent,!r){n.next=10;break}return a("handleRedirectToInfo",r),a("handleAlert",r.data.message),n.next=10,a("fetchTaskList");case 10:case"end":return n.stop()}}),n)})))()},doneTask:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s={method:"put",url:e+"/done"},n.next=4,a("handleRequest",s);case 4:if(r=n.sent,!r){n.next=9;break}return a("handleAlert",r.data.message),n.next=9,a("fetchTaskList");case 9:case"end":return n.stop()}}),n)})))()},restoreTask:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s={method:"put",url:e+"/restore"},n.next=4,a("handleRequest",s);case 4:if(r=n.sent,!r){n.next=9;break}return a("handleAlert",r.data.message),n.next=9,a("fetchTaskList");case 9:case"end":return n.stop()}}),n)})))()},startTask:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s={method:"put",url:e+"/start"},n.next=4,a("handleRequest",s);case 4:if(r=n.sent,!r){n.next=9;break}return a("handleAlert",r.data.message),n.next=9,a("fetchTaskList");case 9:case"end":return n.stop()}}),n)})))()},stopTask:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s={method:"put",url:e+"/stop"},n.next=4,a("handleRequest",s);case 4:if(r=n.sent,!r){n.next=9;break}return a("handleAlert",r.data.message),n.next=9,a("fetchTaskList");case 9:case"end":return n.stop()}}),n)})))()},addAnnotation:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s=e.taskUUID,r=e.annotation,i={method:"put",url:s+"/add_annotation",data:r},n.next=5,a("handleRequest",i);case 5:if(!n.sent){n.next=8;break}return n.next=8,a("fetchTaskList");case 8:case"end":return n.stop()}}),n)})))()},removeAnnotation:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s=e.taskUUID,r=e.annotation,i={method:"put",url:s+"/remove_annotation",data:r},n.next=5,a("handleRequest",i);case 5:if(!n.sent){n.next=8;break}return n.next=8,a("fetchTaskList");case 8:case"end":return n.stop()}}),n)})))()},addDependency:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s=e.taskUUID,r=e.dependency,i={method:"put",url:s+"/add_dependency",data:r},n.next=5,a("handleRequest",i);case 5:if(!n.sent){n.next=8;break}return n.next=8,a("fetchTaskList");case 8:case"end":return n.stop()}}),n)})))()},removeDependency:function(t,e){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,s=e.taskUUID,r=e.dependency,i={method:"put",url:s+"/remove_dependency",data:r},n.next=5,a("handleRequest",i);case 5:if(!n.sent){n.next=8;break}return n.next=8,a("fetchTaskList");case 8:case"end":return n.stop()}}),n)})))()}},modules:{}}),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"my-4 my-sm-12 ma-auto",attrs:{"max-width":"344"}},[n("v-card-title",{staticClass:"text-h3"},[t._v(" Login ")]),n("v-card-text",[n("v-text-field",{staticClass:"input-group--focused",attrs:{rules:[t.rules.required],loading:t.loading,error:t.error,hint:"Base url of task-rest server.",label:"Api base address"},on:{input:function(e){t.error=!1}},model:{value:t.apiBase,callback:function(e){t.apiBase=e},expression:"apiBase"}}),n("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",rules:[t.rules.required],type:t.show?"text":"password",loading:t.loading,error:t.error,label:"Password"},on:{"click:append":function(e){t.show=!t.show},input:function(e){t.error=!1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.error?n("v-card-subtitle",{staticClass:"error--text"},[t._v(" Login failed ")]):t._e(),n("v-card-actions",[n("v-spacer"),n("v-btn",{on:{click:t.onLogin}},[t._v(" Login ")])],1)],1)},U=[],A=(n("ac1f"),n("5319"),{name:"Login",data:function(){return{apiBase:this.getBaseUrl,password:"",show:!1,loading:!1,error:!1,rules:{required:function(t){return!!t||"Required"}}}},computed:Object(c["a"])({},Object(u["c"])(["getHasToken","getBaseUrl"])),methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["fetchToken"])),{},{onLogin:function(){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,n=t.apiBase,a=t.password,e.next=5,t.fetchToken({apiBaseUrl:n,pass:a});case 5:t.getHasToken?t.$router.replace(t.$route.query.from||"/"):(t.loading=!1,t.error=!0);case 6:case"end":return e.stop()}}),e)})))()}}),created:function(){this.getHasToken&&this.$router.replace({name:"TaskNoneSelected"})}}),P=A,B=n("b0af"),L=n("99d9"),E=n("8654"),F=Object(p["a"])(P,I,U,!1,null,null,null),M=F.exports;v()(F,{VBtn:b["a"],VCard:B["a"],VCardActions:L["a"],VCardSubtitle:L["b"],VCardText:L["c"],VCardTitle:L["d"],VSpacer:j["a"],VTextField:E["a"]});var q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"home pa-0",staticStyle:{height:"100%"},attrs:{fluid:t.$vuetify.breakpoint.mdAndDown}},[n("v-row",{staticStyle:{height:"100%"},attrs:{"no-gutters":""}},[t.$vuetify.breakpoint.mobile?t._e():n("v-col",{staticClass:"main-col"},[n("router-view")],1),n("v-col",{staticClass:"main-col",attrs:{cols:"12",sm:"5",md:"4",xl:"3"}},[n("taskList",{attrs:{tasks:t.tasks,type:"pending"}})],1)],1),t.$vuetify.breakpoint.mobile?n("v-overlay",{attrs:{value:!t.noneSelected}},[n("v-container",{staticClass:"main-overlay"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{staticClass:"float-right mt-4",attrs:{color:"accent",small:"",fab:""},on:{click:t.onCloseOverlay}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-col",[n("router-view")],1)],1)],1)],1):t._e()],1)},N=[],H=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",attrs:{id:"task-container"}},[n("v-data-iterator",{attrs:{id:"task-data-iterator",items:t.tasks,search:t.search,"custom-filter":t.customFilter,"sort-by":t.sortBy,"custom-sort":t.customSort,sortDesc:"",loading:"","disable-pagination":"","hide-default-footer":""},scopedSlots:t._u([{key:"header",fn:function(){return[n("task-list-header",{attrs:{search:t.search,sortBy:t.sortBy,showHidden:t.showHidden},on:{"update:search":function(e){t.search=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:showHidden":function(e){t.showHidden=e},"update:show-hidden":function(e){t.showHidden=e}}})]},proxy:!0},{key:"default",fn:function(e){return[n("v-list",{staticClass:"pa-0",attrs:{"three-line":""}},[n("v-list-item-group",{attrs:{"active-class":"green lighten-5"},on:{change:function(e){return t.onSelectionChange(e)}},model:{value:t.selectedTaskUUID,callback:function(e){t.selectedTaskUUID=e},expression:"selectedTaskUUID"}},[t._l(e.items,(function(e,a){return[n("task-item",{key:e.uuid,attrs:{task:e},on:{"update:search":function(e){t.search=e}}}),n("v-divider",{key:a})]}))],2)],1)]}}])})],1)}),W=[],z=(n("a4d3"),n("e01a"),n("caad"),n("25f0"),n("2532"),n("1276"),n("2ca0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",{attrs:{value:t.task.uuid,"three-line":""}},[n("v-list-item-avatar",{staticClass:"white--text",attrs:{size:"56",color:t.idAvatarColor}},[t._v(t._s(t.task.id))]),n("v-window",{staticStyle:{width:"100%"},model:{value:t.windowIndex,callback:function(e){t.windowIndex=e},expression:"windowIndex"}},[n("v-window-item",{attrs:{value:0}},[n("div",{staticClass:"window-container"},[n("v-list-item-content",[n("span",{staticClass:"text-body-2",domProps:{textContent:t._s(t.task.description)}}),n("span",["project"in t.task?n("v-btn",{staticClass:"project-btn text-none font-weight-bold",attrs:{depressed:"",small:"",outlined:"",left:"",color:"primary"},domProps:{textContent:t._s(t.task.project)},on:{click:function(e){return e.stopPropagation(),t.$emit("update:search","p:"+t.task.project)}}}):t._e()],1),"tags"in t.task?n("v-item-group",t._l(t.task.tags,(function(e){return n("v-btn",{key:e,staticClass:"text-none",staticStyle:{margin:"5px 5px 5px 0"},attrs:{rounded:"","x-small":"",depressed:"",color:"accent"},on:{click:function(n){return n.stopPropagation(),t.$emit("update:search","+"+e)}}},[t._v(" "+t._s(e)+" ")])})),1):t._e()],1),n("v-list-item-avatar",{staticClass:"font-weight-bold",style:{color:t.urgencyColor},attrs:{size:"56"},domProps:{textContent:t._s(t.task.urgency.toFixed(2))}}),n("v-list-item-action",[n("v-btn",{attrs:{fab:"",depressed:""},on:{click:function(e){return e.stopPropagation(),t.windowIndexIncrement(e)}}},[n("v-icon",[t._v("mdi-chevron-left")])],1)],1)],1)]),n("v-window-item",{attrs:{value:1}},[n("div",{staticClass:"window-container"},[n("v-spacer"),n("v-list-item-action",{staticClass:"flex-row"},[n("v-btn",{staticStyle:{margin:"0 5px 5px 0"},attrs:{fab:"",depressed:"",color:"error"},on:{click:function(e){e.stopPropagation(),t.windowIndex=2}}},[n("v-icon",[t._v("mdi-trash-can-outline")])],1),"completed"!==t.task.status?[t.task.start?n("v-btn",{staticStyle:{margin:"0 5px 5px 0"},attrs:{fab:"",depressed:"",color:"warning"},on:{click:function(e){return e.stopPropagation(),t.stopTask(t.task.uuid)}}},[n("v-icon",[t._v(" mdi-stop")])],1):n("v-btn",{staticStyle:{margin:"0 5px 5px 0"},attrs:{fab:"",depressed:"",color:"info"},on:{click:function(e){return e.stopPropagation(),t.startTask(t.task.uuid)}}},[n("v-icon",[t._v("mdi-play")])],1)]:t._e(),"completed"!==t.task.status?n("v-btn",{staticStyle:{margin:"0 5px 5px 0"},attrs:{fab:"",depressed:"",color:"success"},on:{click:function(e){return e.stopPropagation(),t.doneTask(t.task.uuid)}}},[n("v-icon",[t._v("mdi-check")])],1):n("v-btn",{staticStyle:{margin:"0 5px 5px 0"},attrs:{fab:"",depressed:"",color:"warning"},on:{click:function(e){return e.stopPropagation(),t.restoreTask(t.task.uuid)}}},[n("v-icon",[t._v("mdi-undo-variant")])],1),n("v-btn",{staticStyle:{margin:"0 5px 5px 0"},attrs:{fab:"",depressed:""},on:{click:function(e){e.stopPropagation(),t.windowIndex=0}}},[n("v-icon",[t._v("mdi-chevron-right")])],1)],2)],1)]),n("v-window-item",{attrs:{value:2}},[n("div",{staticClass:"window-container"},[n("v-list-item-content",[n("v-list-item-title",[t._v(" Are you sure? ")])],1),n("v-list-item-action",[n("v-btn",{attrs:{depressed:"",color:"error"},on:{click:function(e){return e.stopPropagation(),t.deleteTask(t.task.uuid)}}},[t._v(" Delete ")])],1),n("v-list-item-action",[n("v-btn",{staticStyle:{margin:"0 5px 5px 0"},attrs:{fab:"",depressed:""},on:{click:function(e){e.stopPropagation(),t.windowIndex=0}}},[n("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1)])],1)],1)}),G=[],J={name:"taskItem",props:{task:Object},computed:{idAvatarColor:function(){return"waiting"==this.task.status?"info":"completed"==this.task.status?"error":this.task.start?"success":"secondary"},urgencyColor:function(){var t=1-this.task.urgency/this.$store.getters.getUrgencyScaleMax;return t=Math.min(t*(t>0)*120,120),"hsl("+t+",80%,50%)"},divheight:function(){return this.$refs.taskdiv.clientHeight}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["doneTask","deleteTask","startTask","stopTask"])),{},{windowIndexIncrement:function(){"recurring"===this.task.status?this.windowIndex=2:this.windowIndex=1}}),data:function(){return{windowIndex:0}}},K=J,Y=(n("03c0"),n("604c")),Q=n("1800"),X=n("8270"),Z=n("f665"),tt=n("1e6c"),et=Object(p["a"])(K,z,G,!1,null,"359ba0b2",null),nt=et.exports;v()(et,{VBtn:b["a"],VIcon:T["a"],VItemGroup:Y["b"],VListItem:w["a"],VListItemAction:Q["a"],VListItemAvatar:X["a"],VListItemContent:_["a"],VListItemTitle:_["b"],VSpacer:j["a"],VWindow:Z["a"],VWindowItem:tt["a"]});var at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{dark:"",color:"secondary",flat:"","extension-height":"57px"},scopedSlots:t._u([{key:"extension",fn:function(){return[n("v-btn-toggle",{attrs:{value:t.sortBy,mandatory:"",light:""},on:{change:t.updateSortBy}},[n("v-btn",{attrs:{value:"alpha"}},[n("v-icon",[t._v("mdi-sort-alphabetical-ascending")])],1),n("v-btn",{attrs:{value:"urgency"}},[n("v-icon",[t._v("mdi-exclamation-thick")])],1),n("v-btn",{attrs:{value:"project"}},[n("v-icon",[t._v("mdi-shape-outline")])],1)],1),n("v-spacer"),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.recurPage,expression:"!recurPage"}],attrs:{icon:""},on:{click:t.toggleShowHidden}},[t.showHidden?n("v-icon",[t._v("mdi-eye-off-outline")]):n("v-icon",[t._v("mdi-eye-outline")])],1),n("v-btn",{attrs:{icon:""},on:{click:t.fetchTaskList}},[n("v-icon",[t._v("mdi-refresh")])],1),n("v-btn",{attrs:{icon:"","retain-focus-on-click":!1},on:{click:t.onAddTask}},[n("v-icon",[t._v("mdi-plus")])],1)]},proxy:!0},{key:"default",fn:function(){return[n("v-text-field",{attrs:{value:t.search,clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-filter-outline",label:"Filter Tasks..."},on:{input:t.updateSearch}})]},proxy:!0}])})},st=[],rt={name:"task-list-header",props:["search","sortBy","showHidden"],computed:{recurPage:function(){return this.$route.meta.recurPage}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["fetchTaskList"])),{},{updateSearch:function(t){this.$emit("update:search",t)},updateSortBy:function(t){this.$emit("update:sortBy",t)},toggleShowHidden:function(){console.log("toggle"),this.$emit("update:showHidden",!this.showHidden)},clearSelectedTaskUUID:function(){this.$store.commit("set_selected_task_uuid",void 0)},onAddTask:function(){this.clearSelectedTaskUUID(),this.recurPage?this.$router.push({name:"TaskRecurAdd"}):this.$router.push({name:"TaskAdd"})}})},it=rt,ot=n("a609"),ct=n("71d9"),ut=Object(p["a"])(it,at,st,!1,null,null,null),lt=ut.exports;v()(ut,{VBtn:b["a"],VBtnToggle:ot["a"],VIcon:T["a"],VSpacer:j["a"],VTextField:E["a"],VToolbar:ct["a"]});var dt={name:"taskList",components:{taskItem:nt,taskListHeader:lt},props:{tasks:Array,type:String},computed:{selectedTaskUUID:{get:function(){return this.$store.getters.getSelectedTaskUUID},set:function(t){this.$store.commit("set_selected_task_uuid",t)}},recurPage:function(){return this.$route.meta.recurPage}},methods:{onSelectionChange:function(t){if(this.selectedTaskUUID=t,this.selectedTaskUUID){var e=this.selectedTaskUUID;this.recurPage?this.$router.push({name:"TaskRecurInfo",params:{uuid:e}}):this.$router.push({name:"TaskInfo",params:{uuid:e}})}else this.recurPage?this.$router.push({name:"TaskRecurNoneSelected"}):this.$router.push({name:"TaskNoneSelected"})},customSort:function(t,e){switch(e[0]){case"alpha":return t.sort((function(t,e){return t.description.localeCompare(e.description)}));case"urgency":return t.sort(this.compareProject).sort(this.compareUrgency);case"project":return t.sort(this.compareProject);default:return t}},customFilter:function(t,e){var n=this;t=t.filter((function(t){return!(!n.showHidden&&"pending"!==t.status&&!n.recurPage)}));for(var a=null==e?[]:e.toString().split(" "),s=function(e){a[e].startsWith("+")?t=t.filter((function(t){return"tags"in t&&t.tags.includes(a[e].slice(1))})):(a[e].startsWith("project:")||a[e].startsWith("p:"))&&(t=t.filter((function(t){return"project"in t&&t.project===a[e].split(":")[1]})))},r=0;r<a.length;r++)s(r);return t},compareUrgency:function(t,e){return parseFloat(e.urgency)-parseFloat(t.urgency)},compareProject:function(t,e){return"project"in t?"project"in e?t.project>e.project?-1:t.project<e.project?1:0:-1:1}},data:function(){return{showHidden:!1,sortBy:"urgency",search:""}}},pt=dt,mt=(n("bcf4"),n("a523")),vt=n("c377"),ft=n("ce7e"),ht=n("1baa"),kt=Object(p["a"])(pt,H,W,!1,null,"27489a14",null),gt=kt.exports;v()(kt,{VContainer:mt["a"],VDataIterator:vt["a"],VDivider:ft["a"],VList:x["a"],VListItemGroup:ht["a"]});var bt={name:"TaskListView",components:{taskList:gt},computed:{tasks:function(){return this.recurPage?this.$store.getters.getTasks.filter((function(t){return"recurring"===t.status})):this.$store.getters.getTasks.filter((function(t){return"recurring"!==t.status&&"deleted"!==t.status}))},alerts:function(){return this.$store.getters.getAlerts},recurPage:function(){return this.$route.meta.recurPage},noneSelected:function(){return!!this.$route.meta.noneSelected}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["fetchTaskList"])),{},{onCloseOverlay:function(){this.$store.commit("set_selected_task_uuid",void 0),this.recurPage?this.$router.push({name:"TaskRecurNoneSelected"}):this.$router.push({name:"TaskNoneSelected"})}}),created:function(){this.fetchTaskList()}},Tt=bt,xt=(n("79a6"),n("62ad")),wt=n("a797"),_t=n("0fd9"),yt=Object(p["a"])(Tt,q,N,!1,null,"fed6cb9c",null),Ct=yt.exports;v()(yt,{VBtn:b["a"],VCol:xt["a"],VContainer:mt["a"],VIcon:T["a"],VOverlay:wt["a"],VRow:_t["a"]});var St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("No Task Selected.")]),t._v(" can I edit completed task?? ")])},jt=[],Vt={name:"taskNoneSelected",created:function(){this.$store.commit("set_selected_task_uuid",void 0)}},Dt=Vt,Ot=Object(p["a"])(Dt,St,jt,!1,null,null,null),Rt=Ot.exports;v()(Ot,{VContainer:mt["a"]});var $t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-card",{attrs:{light:""}},[n("v-container",[n("v-row",{attrs:{"no-gutters":!this.$vuetify.breakpoint.mobile}},[n("v-col",{attrs:{"align-self":"center",cols:"12"}},[n("v-btn",{staticClass:"float-right mr-4",attrs:{icon:""},on:{click:t.resetNewTask}},[n("v-icon",[t._v("mdi-refresh")])],1)],1),n("v-col",[n("span",{staticClass:"text-h3"},[t._v("Add task...")])])],1)],1),n("task-form",{attrs:{task:t.newTask},on:{"update:task":function(e){t.newTask=e}}}),n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card-actions",[n("v-btn",{on:{click:t.onAddTask}},[t._v("Add task")]),n("v-btn",{attrs:{to:{name:"TaskNoneSelected"}}},[t._v("Cancel")]),n("v-spacer")],1)],1)],1)],1)],1)],1)},It=[],Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{required:"",clearable:"",label:"Desc: "},model:{value:t.task.description,callback:function(e){t.$set(t.task,"description",e)},expression:"task.description"}})],1),t.recurPage?n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{required:"",clearable:"",label:"Recur every: "},model:{value:t.task.recur,callback:function(e){t.$set(t.task,"recur",e)},expression:"task.recur"}})],1):t._e(),n("v-col",{attrs:{cols:"12"}},[n("date-time-menu",{attrs:{title:"Due",dateTimeString:t.task.due},on:{"update:dateTimeString":function(e){return t.$set(t.task,"due",e)},"update:date-time-string":function(e){return t.$set(t.task,"due",e)}}})],1),n("v-col",{attrs:{cols:"7"}},[n("v-text-field",{attrs:{clearable:"",label:"Project: "},model:{value:t.task.project,callback:function(e){t.$set(t.task,"project",e)},expression:"task.project"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-select",{attrs:{label:"priority",clearable:"",items:t.priorities},model:{value:t.task.priority,callback:function(e){t.$set(t.task,"priority",e)},expression:"task.priority"}})],1),n("v-col",{attrs:{cols:"12",sm:"5"}},[n("v-text-field",{attrs:{clearable:"",label:"Add tags...","append-outer-icon":"mdi-plus"},on:{"click:append-outer":t.appendTag,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.appendTag(e)}},model:{value:t.tagField,callback:function(e){t.tagField=e},expression:"tagField"}})],1),n("v-col",{attrs:{cols:"11",sm:"6"}},[t.task.tags?n("div",{attrs:{id:"task-chip-container"}},t._l(t.task.tags,(function(e,a){return n("v-chip",{key:a,staticClass:"text-none",staticStyle:{margin:"0 5px 5px 0"},attrs:{small:"",depressed:"",close:"",color:"accent"},on:{"click:close":function(n){t.task.tags=t.task.tags.filter((function(t){return t!=e}))}}},[t._v(" "+t._s(e)+" ")])})),1):t._e()]),n("v-col",{attrs:{cols:"1","align-self":"end"}},[n("v-btn",{staticClass:"float-right",attrs:{icon:""},on:{click:function(e){t.showExtra=!t.showExtra}}},[n("v-icon",{class:{rotated:t.showExtra}},[t._v("mdi-chevron-down")])],1)],1)],1),n("v-expand-transition",[n("v-row",{directives:[{name:"show",rawName:"v-show",value:t.showExtra,expression:"showExtra"}]},[n("v-col",{attrs:{cols:"12"}},[n("date-time-menu",{attrs:{title:"Hide until",dateTimeString:t.task.until},on:{"update:dateTimeString":function(e){return t.$set(t.task,"until",e)},"update:date-time-string":function(e){return t.$set(t.task,"until",e)}}})],1),n("v-col",{attrs:{cols:"12"}},[n("date-time-menu",{attrs:{title:"Scheduled",dateTimeString:t.task.scheduled},on:{"update:dateTimeString":function(e){return t.$set(t.task,"scheduled",e)},"update:date-time-string":function(e){return t.$set(t.task,"scheduled",e)}}})],1),n("v-col",{attrs:{cols:"12"}},[n("date-time-menu",{attrs:{title:"Start",dateTimeString:t.task.start},on:{"update:dateTimeString":function(e){return t.$set(t.task,"start",e)},"update:date-time-string":function(e){return t.$set(t.task,"start",e)}}})],1)],1)],1)],1)},At=[],Pt=(n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container"}},[n("div",{staticClass:"sub-container sub-1"},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:t.title+" date...",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",s,!1),a))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[n("v-date-picker",{on:{input:t.dateTimeStringUpdate},model:{value:t.pickedDate,callback:function(e){t.pickedDate=e},expression:"pickedDate"}})],1)],1),n("div",{staticClass:"sub-container sub-2"},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{value:t.time,label:t.title+" time...",readonly:"",clearable:""},on:{"click:clear":t.clearFields}},"v-text-field",s,!1),a))]}}]),model:{value:t.timeMenu,callback:function(e){t.timeMenu=e},expression:"timeMenu"}},[n("v-time-picker",{attrs:{scrollable:"",format:"24hr"},on:{"click:minute":t.dateTimeStringUpdate},model:{value:t.pickedTime,callback:function(e){t.pickedTime=e},expression:"pickedTime"}})],1)],1)])}),Bt=[],Lt={name:"dateTimeMenu",props:["title","dateTimeString"],data:function(){return{dateMenu:!1,timeMenu:!1,pickedTime:"00:00",pickedDate:new Date(Date.now()).toISOString().substr(0,10)}},computed:{date:function(){if(this.dateTimeString){var t=function(t){return t<10?"0"+t:t},e=new Date(this.dateTimeString);return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())}},time:function(){if(this.dateTimeString){var t=new Date(this.dateTimeString);return t.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})}},selectedDateTimeSting:function(){var t=new Date(this.pickedDate+" "+this.pickedTime);return console.log(t.toUTCString()),t.toUTCString()},outerIcon:function(){return this.dateTimeString?"mdi-close":""}},methods:{dateTimeStringUpdate:function(){this.timeMenu=!1,this.dateMenu=!1,this.$emit("update:dateTimeString",this.selectedDateTimeSting)},clearFields:function(){this.$emit("update:dateTimeString",void 0)}}},Et=Lt,Ft=(n("7ae1"),n("2e4b")),Mt=n("e449"),qt=n("c964"),Nt=Object(p["a"])(Et,Pt,Bt,!1,null,"1b32222c",null),Ht=Nt.exports;v()(Nt,{VDatePicker:Ft["a"],VMenu:Mt["a"],VTextField:E["a"],VTimePicker:qt["a"]});var Wt={name:"taskForm",props:["task"],components:{dateTimeMenu:Ht},data:function(){return{priorities:["H","M","L"],tagField:void 0,showExtra:!1}},computed:{recurPage:function(){return this.$route.meta.recurPage}},methods:{appendTag:function(){var t=this.tagField.trim();console.log("append "+t),this.task.tags?this.task.tags.includes(t)||this.task.tags.push(t):this.task.tags=[t],this.tagField=void 0},onChangeTag:function(t){console.log("change"),console.log(t)},onInputTag:function(t){console.log("input"),console.log(t),this.tagField=t.replace("j","")}}},zt=Wt,Gt=(n("ad5b"),n("cc20")),Jt=n("0789"),Kt=n("b974"),Yt=Object(p["a"])(zt,Ut,At,!1,null,null,null),Qt=Yt.exports;v()(Yt,{VBtn:b["a"],VChip:Gt["a"],VCol:xt["a"],VContainer:mt["a"],VExpandTransition:Jt["a"],VIcon:T["a"],VRow:_t["a"],VSelect:Kt["a"],VTextField:E["a"]});var Xt={name:"taskAdd",components:{taskForm:Qt},data:function(){return{newTask:{}}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["addTask"])),{},{onAddTask:function(){this.addTask(this.newTask),this.resetNewTask()},resetNewTask:function(){this.newTask={}}}),created:function(){this.$store.commit("set_selected_task_uuid",void 0),this.resetNewTask()}},Zt=Xt,te=(n("5880"),Object(p["a"])(Zt,$t,It,!1,null,"482ee46e",null)),ee=te.exports;v()(te,{VBtn:b["a"],VCard:B["a"],VCardActions:L["a"],VCol:xt["a"],VContainer:mt["a"],VIcon:T["a"],VRow:_t["a"],VSpacer:j["a"]});var ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-card",{attrs:{light:""}},[n("v-container",[n("v-row",{attrs:{"no-gutters":!this.$vuetify.breakpoint.mobile}},[n("v-col",{attrs:{"align-self":"center",cols:"12"}},[n("v-btn",{staticClass:"float-right mr-4",attrs:{icon:""},on:{click:t.editSelectedTask}},[n("v-icon",[t._v("mdi-square-edit-outline")])],1)],1),n("v-col",[t.selectedTask.uuid?n("span",{staticClass:"text-h3"},[t._v(" Task "+t._s(t.selectedTask.id>0?t.selectedTask.id:t.selectedTask.uuid.slice(0,8))+" Info ")]):n("span",{staticClass:"text-h3"},[t._v("Task Not Found")])])],1),t.selectedTask.uuid?[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("span",{staticClass:"text-h4"},[t._v(t._s(t.selectedTask.description))])]),t.selectedTask.project?n("v-col",{attrs:{cols:"12"}},[n("span",{staticClass:"text-h6"},[t._v("Project: ")]),n("v-chip",{attrs:{large:"",label:"",outlined:"",color:"primary"}},[t._v(t._s(t.selectedTask.project)+" ")])],1):t._e(),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Status: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.selectedTask.status)+" ")])]),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Urgency: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.selectedTask.urgency.toFixed(2)))])]),t.selectedTask.due?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Due: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.formatDateTimeString(t.selectedTask.due)))])]):t._e(),t.selectedTask.scheduled?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Scheduled: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.formatDateTimeString(t.selectedTask.until)))])]):t._e(),t.selectedTask.until?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Keep until: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.formatDateTimeString(t.selectedTask.until)))])]):t._e(),t.selectedTask.recur?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Recur every: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.selectedTask.recur))])]):t._e(),t.selectedTask.parent?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Parent task: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.selectedTask.parent.id))])]):t._e()],1),t.selectedTask.tags?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"2"}},[n("h3",[t._v("Tags: ")])]),n("v-col",[n("div",{attrs:{id:"task-chip-container"}},t._l(t.selectedTask.tags,(function(e,a){return n("v-chip",{key:a,staticClass:"text-none",staticStyle:{margin:"0 5px 5px 0"},attrs:{depressed:"",color:"accent"}},[t._v(" "+t._s(e)+" ")])})),1)])],1):t._e(),n("v-row",[n("v-col",[n("v-btn",{staticClass:"float-right mr-4",attrs:{icon:""},on:{click:function(e){t.showExtra=!t.showExtra}}},[n("v-icon",[t._v(t._s(t.showExtra?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1)],1),n("v-expand-transition",[n("v-row",{directives:[{name:"show",rawName:"v-show",value:t.showExtra,expression:"showExtra"}]},[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Entry: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.formatDateTimeString(t.selectedTask.entry)))])]),t.selectedTask.end?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("End: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.formatDateTimeString(t.selectedTask.end)))])]):t._e(),n("v-col",{attrs:{cols:"12"}},[n("h3",[t._v("Annotations: ")]),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("colgroup",[n("col",{staticStyle:{width:"15%"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"80%"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"5%"},attrs:{span:"1"}})]),n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Entry")]),n("th",{staticClass:"text-left"},[t._v("Descripition")]),n("th")])]),n("tbody",[t._l(t.selectedTask.annotations,(function(e,a){return n("tr",{key:a},[n("td",[t._v(" "+t._s(t.formatDateTimeString(e.entry))+" ")]),n("td",[t._v(t._s(e.description))]),n("td",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return t.onRemoveAnnotation(e)}}},[n("v-icon",[t._v("mdi-close")])],1)],1)])})),n("tr",[n("td"),n("td",{staticClass:"pa-0"},[n("v-text-field",{staticClass:"pa-0 rounded-0",attrs:{clearable:"",dense:"",placeholder:"Add annotation..."},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAddAnnotation(e)}},model:{value:t.annotationTextBox,callback:function(e){t.annotationTextBox=e},expression:"annotationTextBox"}})],1),n("td",[n("v-btn",{attrs:{icon:"",disabled:""===t.annotationTextBox},on:{click:t.onAddAnnotation}},[n("v-icon",[t._v("mdi-plus")])],1)],1)]),n("v-divider",{attrs:{dark:""}})],2)]},proxy:!0}],null,!1,2446845243)})],1),n("v-col",{attrs:{cols:"12"}},[n("h3",[t._v("Depends on: ")]),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("colgroup",[n("col",{staticStyle:{width:"15%"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"80%"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"5%"},attrs:{span:"1"}})]),n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("ID")]),n("th",{staticClass:"text-left"},[t._v("Descripition")]),n("th")])]),n("tbody",[t._l(t.selectedTask.depends,(function(e,a){return n("tr",{key:a},[n("td",[t._v(" "+t._s(e.id)+" ")]),n("td",[t._v(t._s(e.description))]),n("td",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return t.onRemoveDepends(e)}}},[n("v-icon",[t._v("mdi-close")])],1)],1)])})),n("tr",[n("td"),n("td",{staticClass:"pa-0"},[n("v-select",{staticClass:"pa-0 rounded-0",attrs:{items:t.tasks,dense:"",placeholder:"Add dependency..."},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("span",{staticClass:"pl-2",staticStyle:{"white-space":"nowrap"}},[t._v(t._s(e.item.description))])]}},{key:"item",fn:function(e){return[t._v(" "+t._s(e.item.id)+" - "+t._s(e.item.description)+" ")]}}],null,!1,1168678676),model:{value:t.selectedDependency,callback:function(e){t.selectedDependency=e},expression:"selectedDependency"}})],1),n("td",[n("v-btn",{attrs:{icon:"",disabled:!t.selectedDependency},on:{click:t.onAddDepends,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAddDepends(e)}}},[n("v-icon",[t._v("mdi-plus")])],1)],1)]),n("v-divider",{attrs:{dark:""}})],2)]},proxy:!0}],null,!1,4055142399)})],1)],1)],1),n("v-row",[t.selectedTask.start?n("v-col",{staticClass:"align-self-center",attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-h6"},[t._v("Started: ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(t._s(t.formatDateTimeString(t.selectedTask.start)))])]):t._e(),n("v-col",{attrs:{cols:"12"}},[n("task-options",{attrs:{disabled:!!t.selectedTask.notFound,completed:"completed"===t.selectedTask.status,started:!!t.selectedTask.start,id:t.selectedTask.id,uuid:t.selectedTask.uuid}})],1)],1)]:t._e()],2)],1)],1)},ae=[],se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:t.disabled,fab:"",color:"error"},on:{click:function(e){t.deletePromptOverlay=!0}}},[n("v-icon",[t._v("mdi-trash-can-outline")])],1),t.completed?t._e():[t.started?n("v-btn",{attrs:{disabled:t.disabled,fab:"",color:"warning"},on:{click:function(e){return t.stopTask(t.uuid)}}},[n("v-icon",[t._v(" mdi-stop")])],1):n("v-btn",{attrs:{disabled:t.disabled,fab:"",color:"info"},on:{click:function(e){return t.startTask(t.uuid)}}},[n("v-icon",[t._v("mdi-play")])],1)],t.completed?n("v-btn",{attrs:{disabled:t.disabled,fab:"",color:"warning"},on:{click:function(e){return t.restoreTask(t.uuid)}}},[n("v-icon",[t._v("mdi-undo-variant")])],1):n("v-btn",{attrs:{disabled:t.disabled,fab:"",color:"success"},on:{click:function(e){return t.doneTask(t.uuid)}}},[n("v-icon",[t._v("mdi-check")])],1),n("v-overlay",{attrs:{value:t.deletePromptOverlay}},[n("v-card",{attrs:{light:""}},[n("v-card-title",[t._v(" Delete task "+t._s(t.id>0?t.id:t.uuidDisplay)+" ")]),n("v-card-actions",[n("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.deletePromptOverlay=!1}}},[t._v(" Cancel ")]),n("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.deleteTask(t.uuid)}}},[t._v(" Delete ")])],1)],1)],1)],2)},re=[],ie={name:"taskOptions",data:function(){return{deletePromptOverlay:!1,uuidData:this.uuid}},computed:{uuidDisplay:function(){return this.uuidData?this.uuidData.slice(0,8):""}},methods:Object(c["a"])({},Object(u["b"])(["doneTask","startTask","stopTask","deleteTask","restoreTask"])),props:["disabled","completed","started","id","uuid"]},oe=ie,ce=Object(p["a"])(oe,se,re,!1,null,null,null),ue=ce.exports;v()(ce,{VBtn:b["a"],VCard:B["a"],VCardActions:L["a"],VCardTitle:L["d"],VIcon:T["a"],VOverlay:wt["a"],VSpacer:j["a"]});var le={name:"taskInfo",components:{taskOptions:ue},data:function(){return{annotationTextBox:"",showExtra:!1,selectedDependency:null}},computed:{tasks:function(){return this.$store.getters.getTasks.filter((function(t){return"pending"===t.status}))},selectedTask:function(){var t=this.$store.getters.getSelectedTask;return t||{notFound:!0}},recurPage:function(){return this.$route.meta.recurPage}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])([])),{},{editSelectedTask:function(){if(this.selectedTask.uuid){var t=this.selectedTask.uuid;this.recurPage?this.$router.push({name:"TaskRecurEdit",params:{uuid:t}}):this.$router.push({name:"TaskEdit",params:{uuid:t}})}},onAddDepends:function(){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.selectedTask.uuid,a={uuid:t.selectedDependency.uuid},e.next=4,t.addDependency({taskUUID:n,dependency:a});case 4:case"end":return e.stop()}}),e)})))()},onRemoveDepends:function(t){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.selectedTask.uuid,n.next=3,e.removeDependency({taskUUID:a,dependency:t});case 3:case"end":return n.stop()}}),n)})))()},onAddAnnotation:function(){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.selectedTask.uuid,a={description:t.annotationTextBox},e.next=4,t.addAnnotation({taskUUID:n,annotation:a});case 4:t.annotationTextBox="";case 5:case"end":return e.stop()}}),e)})))()},onRemoveAnnotation:function(t){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.selectedTask.uuid,n.next=3,e.removeAnnotation({taskUUID:a,annotation:t});case 3:case"end":return n.stop()}}),n)})))()},formatDateTimeString:function(t){var e=new Date(t);return Math.abs(e-Date.now())>864e5?this.toDate(e):this.toTime(e)},toDate:function(t){var e=function(t){return t<10?"0"+t:t};return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())},toTime:function(t){return t.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})}},Object(u["b"])(["addAnnotation","removeAnnotation","addDependency","removeDependency"])),created:function(){this.$store.commit("set_selected_task_uuid",this.$route.params.uuid)},beforeRouteUpdate:function(t,e,n){this.$store.commit("set_selected_task_uuid",t.params.uuid),n()}},de=le,pe=n("1f4f"),me=Object(p["a"])(de,ne,ae,!1,null,null,null),ve=me.exports;v()(me,{VBtn:b["a"],VCard:B["a"],VChip:Gt["a"],VCol:xt["a"],VContainer:mt["a"],VDivider:ft["a"],VExpandTransition:Jt["a"],VIcon:T["a"],VRow:_t["a"],VSelect:Kt["a"],VSimpleTable:pe["a"],VTextField:E["a"]});var fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-card",{attrs:{light:""}},[n("v-container",[n("v-row",{attrs:{"no-gutters":!this.$vuetify.breakpoint.mobile}},[n("v-col",{attrs:{"align-self":"center",cols:"12"}},[n("v-btn",{staticClass:"float-right mr-4",attrs:{icon:""},on:{click:t.resetEditTask}},[n("v-icon",[t._v("mdi-refresh")])],1)],1),n("v-col",[t.editTask.uuid?n("span",{staticClass:"text-h3"},[t._v(" Edit Task "+t._s(t.editTask.id>0?t.editTask.id:t.editTask.uuid.slice(0,8))+" ")]):n("span",{staticClass:"text-h3"},[t._v("Task Not Found")])])],1)],1),n("task-form",{attrs:{task:t.editTask},on:{"update:task":function(e){t.editTask=e}}}),n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card-actions",[n("v-btn",{attrs:{disabled:t.editTask.notFound},on:{click:t.onUpdateTask}},[t._v(" Update details ")]),n("v-btn",{attrs:{disabled:t.editTask.notFound,to:{name:"TaskInfo"}}},[t._v(" Cancel ")])],1)],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("task-options",{attrs:{disabled:!!t.editTask.notFound,completed:"completed"===t.editTask.status,started:!!t.editTask.start,id:t.editTask.id,uuid:t.editTask.uuid}})],1)],1)],1)],1)],1)},he=[],ke={name:"taskEdit",components:{taskForm:Qt,taskOptions:ue},data:function(){return{editTask:{},deletePromptOverlay:!1}},computed:{selectedTask:function(){var t=this.$store.getters.getSelectedTask;return t||{notFound:!0}}},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["updateTask","deleteTask"])),{},{resetEditTask:function(){this.editTask=Object(c["a"])({},this.selectedTask),this.selectedTask.tags&&(this.editTask.tags=this.selectedTask.tags.slice())},onUpdateTask:function(){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updateTask(t.editTask);case 2:t.resetEditTask();case 3:case"end":return e.stop()}}),e)})))()}}),watch:{selectedTask:function(){this.resetEditTask()}},created:function(){this.$store.commit("set_selected_task_uuid",this.$route.params.uuid),this.resetEditTask()},beforeRouteUpdate:function(t,e,n){this.$store.commit("set_selected_task_uuid",t.params.uuid),n()}},ge=ke,be=Object(p["a"])(ge,fe,he,!1,null,null,null),Te=be.exports;v()(be,{VBtn:b["a"],VCard:B["a"],VCardActions:L["a"],VCol:xt["a"],VContainer:mt["a"],VIcon:T["a"],VRow:_t["a"]}),a["a"].use(O["a"]);var xe=[{path:"/login",name:"Login",component:M},{path:"/",component:Ct,meta:{recurPage:!1},children:[{path:"",name:"TaskNoneSelected",component:Rt,meta:{recurPage:!1,noneSelected:!0}},{path:"add",name:"TaskAdd",component:ee,meta:{recurPage:!1}},{path:"info/:uuid",name:"TaskInfo",component:ve,meta:{recurPage:!1}},{path:"edit/:uuid",name:"TaskEdit",component:Te,meta:{recurPage:!1}}]},{path:"/recur",component:Ct,meta:{recurPage:!0},children:[{path:"",name:"TaskRecurNoneSelected",component:Rt,meta:{recurPage:!0,noneSelected:!0}},{path:"add",name:"TaskRecurAdd",component:ee,meta:{recurPage:!0}},{path:":uuid",name:"TaskRecurInfo",component:ve,meta:{recurPage:!0}},{path:"edit/:uuid",name:"TaskRecurEdit",component:Te,meta:{recurPage:!0}}]},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],we=new O["a"]({mode:"history",base:"/task-vue/",routes:xe});we.beforeEach((function(t,e,n){if("Login"===t.name||$.getters.getHasToken)n();else{var a=window.location.pathname;console.log(a),n({name:"Login",query:{from:a}})}}));var _e=we,ye=n("f309");a["a"].use(ye["a"]);var Ce=new ye["a"]({breakpoint:{mobileBreakpoint:"xs",thresholds:{xs:770}},theme:{themes:{light:{primary:"#156D7E",accent:"#EB6B96",secondary:"#929596",success:"#4CAF50",info:"#2196F3",warning:"#FB8C00",error:"#FF5252"}}}}),Se=n("9483");Object(Se["a"])("".concat("/task-vue/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),a["a"].config.productionTip=!1,a["a"].prototype.$http=r.a,new a["a"]({router:_e,store:$,vuetify:Ce,render:function(t){return t(D)}}).$mount("#app")},"57a7":function(t,e,n){},5880:function(t,e,n){"use strict";var a=n("3541"),s=n.n(a);s.a},7018:function(t,e,n){},"79a6":function(t,e,n){"use strict";var a=n("4593"),s=n.n(a);s.a},"7ae1":function(t,e,n){"use strict";var a=n("380c"),s=n.n(a);s.a},"85ec":function(t,e,n){},ad5b:function(t,e,n){"use strict";var a=n("7018"),s=n.n(a);s.a},bcf4:function(t,e,n){"use strict";var a=n("57a7"),s=n.n(a);s.a},d3a6:function(t,e,n){}});
//# sourceMappingURL=app.03016627.js.map